---
import { type CollectionEntry } from 'astro:content'
import CustomLink from './CustomLink.astro';
import { getFormattedDate } from '@/utils/commonFunctions'

type Props = {
  allPosts:CollectionEntry<"articles">[];
}

const { allPosts } = Astro.props;
---

<div class="flex flex-col">
  {
    allPosts.map((singlePost) => (
      <article>
        <CustomLink 
          href=`/${singlePost.collection}/${singlePost.slug}`
          className="flex flex-row px-1 py-2 sm:py-4 hover:p-3 align-middle" 
        >
            <div class="text-sm sm:w-48 w-36 text-neutral-500">
              {getFormattedDate(singlePost.data.publishedDate)}
            </div>
            <div class="text-md w-full text-wrap"> {singlePost.data.title} </div>
        </CustomLink>
        <div class="border-b border-neutral-500/10"></div>
      </article>
    ))
  }
</div>